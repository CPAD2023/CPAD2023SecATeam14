(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{92506:function(e,r,a){Promise.resolve().then(a.bind(a,32111))},32111:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return C}});var t=a(57437),s=a(24033),i=a(2265),n=a(54994),l=a(94042),u=a(21507),o=a(12765),d=a(57655),c=a(53648),h=a(95900),f=a(19174),m=a(32449),g=a(11925),p=a(39226),y=a(53085);let x=(0,y.v0)(p.Z);async function v(e,r){let a=null,t=null;try{a=await (0,y.Xb)(x,e,r)}catch(e){t=e}return{res:a,err:t}}var j=a(24086);let b=(0,j.ad)(p.Z);async function S(e,r,a){let t=null,s=null;try{t=await (0,j.pl)((0,j.JU)(b,e,r),a)}catch(e){s=e}return{result:t,error:s}}var q=a(4589),w=a.n(q),C=()=>{let[e,r]=(0,i.useState)(""),[a,p]=(0,i.useState)(""),[y,x]=(0,i.useState)(""),[j,b]=(0,i.useState)(""),[q,C]=(0,i.useState)(""),[M,P]=(0,i.useState)(""),[B,E]=(0,i.useState)(""),[I,D]=(0,i.useState)(""),[R,T]=(0,i.useState)(""),[V,N]=(0,i.useState)(""),[Y,k]=(0,i.useState)(""),[F,_]=(0,i.useState)(""),[A,G]=(0,i.useState)(""),[L,O]=(0,i.useState)(""),[Z,K]=(0,i.useState)(""),[U,W]=(0,i.useState)(""),[z,J]=(0,i.useState)(""),[X,H]=(0,i.useState)(""),[Q,$]=(0,i.useState)(""),ee=(0,s.useRouter)(),er=e=>{let r=new Date(new Date-new Date(e)).getUTCFullYear()-1970;return r>1?"".concat(Math.abs(r)," years"):"".concat(r," months")},ea=async()=>{if(!e){_("Name is required");return}if(!a){G("Mobile is required");return}if(!y){O("Email is required");return}if(!j){K("Date of birth is required");return}if(new Date(j)>new Date){K("Date of Birth cannot be in the future");return}let r=er(j);if(!q){W("Gender is required");return}if(!I){J("Campus is required");return}if(!V){H("Password is required");return}if(!w().isMobilePhone(a)){G("Mobile is invalid");return}if(!w().isEmail(y)){O("Email is invalid");return}if(V!==Y){H("Passwords are not matching");return}if(!w().isStrongPassword(V)){H("Password is not strong");return}_(""),G(""),O(""),b(""),W(""),J(""),H("");let{res:t,err:s}=await v(y,V);if(s)return $("Couldn't register user! Please try again"),console.log(s);if(t){let{result:s,error:i}=await S("users",t.user.uid,{name:e,mobile:a,email:y,dateOfBirth:j,age:r,gender:q,address:M,invitedBy:B,campus:I,family:R,connectGroup:{},ministryTeam:{},evangelismStage:{},alpha:{},foundation101:{},developmentalTracks:{}});return i?($("Couldn't add user details! Please contact the administrator"),console.log(i)):(console.log(s),ee.push("/"))}};return(0,t.jsx)("main",{className:"flex flex-col justify-center items-center h-[90vh]",children:(0,t.jsxs)(n.w,{className:"p-2 m-2 w-[90%] max-w-md",children:[(0,t.jsx)(l.u,{children:"Register"}),(0,t.jsxs)(u.G,{children:[(0,t.jsx)(d.Y,{variant:"faded",label:"Full name",description:"Enter your full name",isInvalid:F,errorMessage:F,type:"text",value:e,onValueChange:r,required:!0,autoFocus:!0}),(0,t.jsx)(g.q,{y:4}),(0,t.jsx)(d.Y,{variant:"faded",label:"Mobile",description:"Enter mobile number without country code",isInvalid:A,errorMessage:A,type:"tel",value:a,onValueChange:p,required:!0}),(0,t.jsx)(g.q,{y:4}),(0,t.jsx)(d.Y,{variant:"faded",label:"Email",description:"Enter your personal email",isInvalid:L,errorMessage:L,type:"email",value:y,onValueChange:x,required:!0}),(0,t.jsx)(g.q,{y:4}),(0,t.jsx)(d.Y,{variant:"faded",label:"Date Of Birth",description:"Enter your actual date of birth",isInvalid:Z,errorMessage:Z,type:"date",value:j,onValueChange:b,required:!0}),(0,t.jsx)(g.q,{y:4}),(0,t.jsxs)(h.d,{variant:"faded",label:"Gender",description:"Autocomplete your biological gender",isInvalid:U,errorMessage:U,selectedKey:q,onSelectionChange:C,required:!0,children:[(0,t.jsx)(f.R,{children:"Male"},"Male"),(0,t.jsx)(f.R,{children:"Female"},"Female")]}),(0,t.jsx)(g.q,{y:4}),(0,t.jsxs)(h.d,{variant:"faded",label:"Campus",description:"Autocomplete church campus",isInvalid:z,errorMessage:z,selectedKey:I,onSelectionChange:D,required:!0,children:[(0,t.jsxs)(m.y,{title:"Bengaluru",children:[(0,t.jsx)(f.R,{children:"Marathahalli, Bengaluru"},"Marathahalli, Bengaluru"),(0,t.jsx)(f.R,{children:"BTM Layout, Bengaluru"},"BTM Layout, Bengaluru")]}),(0,t.jsx)(m.y,{title:"Chennai",children:(0,t.jsx)(f.R,{children:"Chennai"},"Chennai")}),(0,t.jsx)(m.y,{title:"Trichy",children:(0,t.jsx)(f.R,{children:"Trichy"},"Trichy")})]}),(0,t.jsx)(g.q,{y:4}),(0,t.jsx)(d.Y,{variant:"faded",label:"Password",description:"8 characters long - minimum 1 uppercase, 1 lowercase, 1 digit, 1 symbol",isInvalid:X,errorMessage:X,type:"password",value:V,onValueChange:N,required:!0}),(0,t.jsx)(g.q,{y:4}),(0,t.jsx)(d.Y,{variant:"faded",label:"Confirm Password",description:"Same as above",isInvalid:X,errorMessage:X,type:"password",value:Y,onValueChange:k,required:!0}),(0,t.jsx)(g.q,{y:4}),Q?(0,t.jsx)("p",{className:"p-2 text-red-500 text-center border-1 border-red-500 rounded-xl",children:Q}):null]}),(0,t.jsxs)(o.i,{children:[(0,t.jsx)(c.A,{fullWidth:!0,variant:"shadow",color:"primary",onPress:()=>ea(),children:"Register"}),(0,t.jsx)(g.q,{x:4}),(0,t.jsx)(c.A,{fullWidth:!0,variant:"bordered",color:"secondary",onPress:()=>ee.push("/login"),children:"Login"})]})]})})}},39226:function(e,r,a){"use strict";var t=a(20994);let s=0===(0,t.C6)().length?(0,t.ZF)({apiKey:"AIzaSyBCYdfofucqE9Cv4S4SLSgCbg-kqPELteU",authDomain:"lifehouse-church-bengaluru.firebaseapp.com",projectId:"lifehouse-church-bengaluru",storageBucket:"lifehouse-church-bengaluru.appspot.com",messagingSenderId:"4605710989",appId:"1:4605710989:web:c7705a169594ee407fc8c4",measurementId:"G-VDT2NP13VV"}):(0,t.C6)()[0];r.Z=s}},function(e){e.O(0,[487,358,924,710,193,672,917,589,638,971,472,744],function(){return e(e.s=92506)}),_N_E=e.O()}]);